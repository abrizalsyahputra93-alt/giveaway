<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Giveaway Botrix-style</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; padding: 20px; background: #121212; color: #fff;}
  input, button { padding: 10px; margin: 5px; font-size: 16px; }
  #participants { margin-top: 20px; }
  #winner { font-size: 24px; margin-top: 20px; color: #00ff00; }
</style>
</head>
<body>

<h1>Giveaway Botrix-style</h1>

<div>
  <input type="text" id="chatroom" placeholder="Chatroom ID (e.g., 8237258)">
</div>
<div>
  <input type="text" id="username" placeholder="Username peserta">
  <button onclick="addParticipant()">Tambahkan Peserta</button>
</div>
<div>
  <input type="text" id="whitelist" placeholder="Whitelist (pisah koma)">
</div>
<div>
  <input type="text" id="keyword" placeholder="Keyword Giveaway">
</div>

<div id="participants">
  <h3>Peserta:</h3>
  <ul id="list"></ul>
</div>

<button onclick="startGiveaway()">Mulai Giveaway</button>

<div id="winner"></div>

<script>
let participants = [];

function addParticipant() {
  const username = document.getElementById('username').value.trim();
  const whitelist = document.getElementById('whitelist').value.split(',').map(u => u.trim());
  
  if(username === '') return alert('Masukkan username!');
  if(whitelist.length > 0 && !whitelist.includes(username)) {
    return alert('Username tidak ada di whitelist!');
  }

  participants.push(username);
  const list = document.getElementById('list');
  const li = document.createElement('li');
  li.textContent = username;
  list.appendChild(li);
  document.getElementById('username').value = '';
}

function startGiveaway() {
  const keywordInput = document.getElementById('keyword').value.trim();
  if(keywordInput === '') return alert('Masukkan keyword untuk giveaway!');

  if(participants.length === 0) return alert('Tidak ada peserta!');

  let rounds = 20; // jumlah putaran animasi
  let winnerDisplay = document.getElementById('winner');

  let i = 0;
  const interval = setInterval(() => {
    const name = participants[Math.floor(Math.random() * participants.length)];
    winnerDisplay.textContent = `ðŸŽ‰ ${name} ðŸŽ‰`;
    i++;
    if(i >= rounds) {
      clearInterval(interval);
      alert(`Pemenang: ${winnerDisplay.textContent}`);
      // Di sini bisa kirim ke API Kick:
      // sendMessageToKick(document.getElementById('chatroom').value, winnerDisplay.textContent);
    }
  }, 100);
}

// Contoh fungsi kirim ke Kick (gunakan fetch)
async function sendMessageToKick(chatroomId, message) {
  const url = `https://kick.com/api/v2/messages/send/${chatroomId}`;
  await fetch(url, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ content: message })
  });
}
</script>

</body>
</html>
